<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galeria de Personagens</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #ff79c6;
  --secondary: #ffb3d9;
  --bg-dark: #1a1a2e;
  --bg-light: #f9f9f9;
  --text-dark: #1a1a2e;
  --text-light: #fff;
}
body {
  margin:0;
  font-family:'Poppins',sans-serif;
  background-color:var(--bg-dark);
  color:var(--text-light);
  transition: background-color 0.5s, color 0.5s;
}
body.light {
  background-color:var(--bg-light);
  color:var(--text-dark);
}
header {
  text-align:center;
  padding:30px 10px 10px 10px;
}
header h1 {
  font-size:3em;
  font-weight:700;
  background: linear-gradient(90deg, var(--primary), var(--secondary), var(--primary));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 0 5px var(--primary),0 0 10px var(--primary);
  animation: neonGlow 2s ease-in-out infinite alternate;
}
@keyframes neonGlow {
  0%,100%{text-shadow:0 0 5px var(--primary),0 0 10px var(--primary);}
  50%{text-shadow:0 0 15px var(--primary),0 0 25px var(--secondary);}
}
.mode-toggle {
  display:inline-block;
  margin-top:10px;
  padding:8px 16px;
  background:var(--primary);
  color:var(--text-dark);
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
}
.mode-toggle:hover{
  background:var(--secondary);
}
.filtros {
  text-align:center;
  margin:20px 0;
}
.filtros button {
  background-color: rgba(68,68,68,0.8);
  color:#fff;
  border:none;
  padding:10px 15px;
  margin:5px;
  border-radius:15px;
  cursor:pointer;
  font-weight:600;
  transition:0.3s;
}
.filtros button:hover,.filtros button.active {
  background-color: var(--primary);
  color: var(--text-dark);
  box-shadow:0 0 10px var(--primary);
}
.gallery-personagens {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:25px;
  padding:0 20px 50px 20px;
}
.personagem {
  background: rgba(45,0,70,0.75);
  border:2px solid rgba(255,121,198,0.4);
  border-radius:18px;
  overflow:hidden;
  position:relative;
  cursor:pointer;
  transition:transform 0.3s, box-shadow 0.3s;
}
.personagem:hover {
  transform:scale(1.05);
  box-shadow:0 0 35px rgba(255,121,198,0.7);
}
.personagem img {
  width:100%;
  display:block;
  transition:transform 0.4s;
}
.personagem:hover img {
  transform:scale(1.08);
}
.personagem h2{
  text-align:center;
  color: var(--primary);
  margin:10px 0 5px;
}
.personagem p{
  text-align:center;
  font-size:13px;
  color:#ddd;
  padding:0 10px 10px 10px;
}
.fav-btn{
  display:block;
  margin:10px auto;
  padding:8px 16px;
  background:var(--primary);
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:bold;
  transition:0.3s;
}
.fav-btn:hover{
  background: var(--secondary);
  transform:scale(1.1);
  box-shadow:0 0 15px var(--primary);
}
.comments-container{
  margin:10px 10px 10px 10px;
  padding:10px;
  border-radius:12px;
  background-color: rgba(30,30,50,0.8);
  color:#ddd;
  font-size:14px;
  max-height:150px;
  overflow-y:auto;
}
.comment{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
  padding:6px;
  border-bottom:1px solid #333;
}
.comment-input{
  width:calc(100% - 20px);
  padding:6px 10px;
  margin:6px 10px 0 10px;
  border-radius:6px;
  border:none;
  background-color:rgba(30,30,50,0.9);
  color:#fff;
}
.comment-submit{
  display:block;
  margin:8px auto 10px auto;
  padding:8px 12px;
  background-color:var(--primary);
  border:none;
  color:var(--text-dark);
  border-radius:6px;
  font-weight:600;
  cursor:pointer;
}
.comment-submit:hover{
  background-color: var(--secondary);
}
.expanded-card{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:80%;
  max-width:800px;
  background:rgba(30,0,60,0.95);
  border-radius:20px;
  z-index:9999;
  padding:20px;
  display:none;
  animation: fadeIn 0.3s ease forwards;
}
.expanded-card img{
  width:100%;
  border-radius:15px;
}
.expanded-card h2{
  margin:10px 0;
  text-align:center;
}
.expanded-card p{
  font-size:14px;
  text-align:center;
  color:#ddd;
}
.close-btn{
  position:absolute;
  top:15px;
  right:20px;
  cursor:pointer;
  background:none;
  border:none;
  font-size:24px;
  color:#fff;
}
@keyframes fadeIn{
  0%{opacity:0;}
  100%{opacity:1;}
}
</style>
</head>
<body>
<header>
  <h1>Galeria de Personagens</h1>
  <button class="mode-toggle">Modo Claro</button>
</header>

<div class="filtros">
  <button data-filter="all" class="active">Todos</button>
  <button data-filter="dan-da-dan">Dan da Dan</button>
  <button data-filter="jujutsu-kaisen">Jujutsu Kaisen</button>
  <button data-filter="onepunch">One Punch Man</button>
</div>

<div class="gallery-personagens">
  <!-- Aqui entra cada card de personagem, exemplo: -->
  <div class="personagem" data-anime="dan-da-dan" data-id="momo-ayase">
    <img src="https://i.postimg.cc/c1jx5ZKj/Picsart-25-11-03-00-33-27-851.jpg" alt="Momo Ayase">
    <h2>Momo Ayase</h2>
    <p>Garota psíquica com braços invisíveis, central no conflito sobrenatural.</p>
    <button class="fav-btn">♡ Favoritar</button>
  </div>
  <div class="personagem" data-anime="dan-da-dan" data-id="jin-enjoji">
    <img src="https://i.postimg.cc/wTyv63Kc/Picsart-25-11-03-00-32-36-858.jpg" alt="Jin Enjoji">
    <h2>Jin Enjoji</h2>
    <p>Amigo da Momo, possuído pelo espírito Mau Olhado.</p>
    <button class="fav-btn">♡ Favoritar</button>
  </div>
  <!-- Continue aqui todos os 16 personagens de Dan da Dan -->
  <!-- Jujutsu Kaisen -->
  <div class="personagem" data-anime="jujutsu-kaisen" data-id="choso">
    <img src="https://i.postimg.cc/XYD6DQt9/choso.jpg" alt="Choso">
    <h2>Choso</h2>
    <p>Maldição que protege os irmãos, habilidoso em sangue manipulação.</p>
    <button class="fav-btn">♡ Favoritar</button>
  </div>
  <div class="personagem" data-anime="jujutsu-kaisen" data-id="gojo">
    <img src="https://i.postimg.cc/DyPRC0PZ/gojo.jpg" alt="Gojo">
    <h2>Gojo Satoru</h2>
    <p>Professor mais forte da Jujutsu Kaisen, domínio do infinito.</p>
    <button class="fav-btn">♡ Favoritar</button>
  </div>
  <!-- Continue Yuta, Nanami, Inumaki, Sukuna, Megumi, Toji -->
</div>

<div class="expanded-card" id="expandedCard">
  <button class="close-btn">✖</button>
  <img src="" alt="Expandido" id="expandedImg">
  <h2 id="expandedName"></h2>
  <p id="expandedDesc"></p>
</div>

<script>
const modeToggle=document.querySelector('.mode-toggle');
modeToggle.addEventListener('click',()=>{
  document.body.classList.toggle('light');
  modeToggle.textContent=document.body.classList.contains('light')?'Modo Escuro':'Modo Claro';
});

// Filtros
const filterButtons=document.querySelectorAll('.filtros button');
const personagens=document.querySelectorAll('.personagem');
filterButtons.forEach(btn=>{
  btn.addEventListener('click',()=>{
    filterButtons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const filter=btn.getAttribute('data-filter');
    personagens.forEach(p=>{
      p.style.display=(filter==='all'||p.getAttribute('data-anime')===filter)?'block':'none';
    });
  });
});

// Favoritos
document.querySelectorAll('.fav-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const card=btn.closest('.personagem');
    const id=card.getAttribute('data-id');
    let favs=JSON.parse(localStorage.getItem('favs'))||[];
    if(favs.includes(id)){
      favs=favs.filter(f=>f!==id);
      btn.textContent='♡ Favoritar';
    }else{
      favs.push(id);
      btn.textContent='❤️ Favoritado';
    }
    localStorage.setItem('favs',JSON.stringify(favs));
  });
});
// Carregar favoritos
window.addEventListener('DOMContentLoaded',()=>{
  const favs=JSON.parse(localStorage.getItem('favs'))||[];
  document.querySelectorAll('.personagem').forEach(card=>{
    const id=card.getAttribute('data-id');
    const btn=card.querySelector('.fav-btn');
    if(favs.includes(id)) btn.textContent='❤️ Favoritado';
  });
});

// Expansão ao clicar
const expandedCard=document.getElementById('expandedCard');
const expandedImg=document.getElementById('expandedImg');
const expandedName=document.getElementById('expandedName');
const expandedDesc=document.getElementById('expandedDesc');
personagens.forEach(card=>{
  card.addEventListener('click',e=>{
    if(!e.target.classList.contains('fav-btn')){ // Não expande se clicar no botão
      expandedCard.style.display='block';
      expandedImg.src=card.querySelector('img').src;
      expandedName.textContent=card.querySelector('h2').textContent;
      expandedDesc.textContent=card.querySelector('p').textContent;
    }
  });
});
document.querySelector('.close-btn').addEventListener('click',()=>{
  expandedCard.style.display='none';
});

// Comentários
personagens.forEach(card=>{
  const id=card.getAttribute('data-id');
  const container=document.createElement('div');
  container.classList.add('comments-container');
  card.appendChild(container);
  const textarea=document.createElement('textarea');
  textarea.classList.add('comment-input');
  textarea.placeholder='Deixe um comentário...';
  card.appendChild(textarea);
  const btn=document.createElement('button');
  btn.textContent='Enviar comentário';
  btn.classList.add('comment-submit');
  card.appendChild(btn);

  const renderComments=()=>{
    const key='comments_'+id;
    let comms=JSON.parse(localStorage.getItem(key))||[];
    container.innerHTML='';
    comms.forEach((c,i)=>{
      const div=document.createElement('div');
      div.classList.add('comment');
      div.textContent=c;
      const del=document.createElement('button');
      del.textContent='❌';
      del.style.marginLeft='8px';
      del.addEventListener('click',()=>{
        comms.splice(i,1);
        localStorage.setItem(key,JSON.stringify(comms));
        renderComments();
      });
      div.appendChild(del);
      container.appendChild(div);
    });
  };
  renderComments();
  btn.addEventListener('click',()=>{
    const key='comments_'+id;
    let comms=JSON.parse(localStorage.getItem(key))||[];
    if(textarea.value.trim()!==''){
      comms.push(textarea.value.trim());
      localStorage.setItem(key,JSON.stringify(comms));
      textarea.value='';
      renderComments();
    }
  });
});
</script>
</body>
</html>